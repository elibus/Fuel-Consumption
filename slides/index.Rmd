---
title       : Fuel Consumption
subtitle    : An application to estimates mileage
author      : Marco Tizzoni
framework   : io2012        # {io2012, html5slides, shower, dzslides, ...}
highlighter : highlight.js  # {highlight.js, prettify, highlight}
hitheme     : tomorrow      # 
widgets     : []            # {mathjax, quiz, bootstrap}
mode        : selfcontained # {standalone, draft}
knit        : slidify::knit2slides

--- 

## Fuel Consumption

Fuel Consumption:

- uses the R `mtcars` dataset
- predicts mileage per gallon (`mpg`) of cars

```{r echo=FALSE}
# Load mtcars data set
data(mtcars)
mtcars$am <- as.factor(mtcars$am)
levels(mtcars$am) <- c("Auto", "Manual")

str(mtcars)
```

---

## Predictors
Three predictors are used:

 1. Horse Power (`hp`)
 1. Weigth (`wt`)
 1. Transmission Type (`am`)

Also:
 * Predictors can be adjusted using three input widgets.
 * Whenever one of the widget changes the following plot gets updates. 

---

## Prediction plot
 * the prediction (blue line) 
 * the 95% confidence interval (light blue box)
 * data points (black)

```{r, echo=FALSE, warning=FALSE}
library(ggplot2)

fit <- lm(mpg ~ am + wt + hp, data = mtcars)

# New data frame for prediction
    new <- data.frame(am = as.factor(mean(mtcars$am)),
                      wt = mean(mtcars$wt),
                      hp = mean(mtcars$hp))

    # Prediction
    pred <-
      cbind(mtcars,
            predict(fit, new, interval = "prediction", level = 0.95))
    
    # Plot the prediction with 95% confidence internval
    ggplot(pred, aes(x = hp)) +
      labs(x="Horse Power", y="Mileage per gallon") +
      geom_ribbon(aes(ymin = lwr, ymax = upr),
                  fill = "blue",
                  alpha = 0.2) +
      geom_point(aes(y = mpg)) +
      geom_line(aes(y = fit), colour = "blue", size = 0.5)

```

---

## Source code

https://github.com/elibus/FuelConsumption






